<!--
  Generated template for the DashboardPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <button ion-button (click)="menuDesplegable()">
        <ion-icon slot="icon-only" name="menu"></ion-icon>
      </button>
  </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ng-container *ngIf="isAdmin && isAdmin === 1">

    <div class="content-dashboard">
      <div class="right-content">
        <div class="overview">
          <div padding>
            <div class="content-initial">
              <div class="first-content">
                  <writter class="title-dashboard" value="Bienvenida Jesús, ¿Qué tal estás?"></writter>
                  <!-- <writter class="subtitle-dashboard" value="Aquí vas a poder ver la evolución de tus pacientes"></writter> -->
                  <!-- <p>La siguiente cita la tendrás {{newDate}}</p> -->
                  <p>Tienes actualmente 684 clientes</p>
                  <!-- <writter class="subtitle-dashboard" value="Podrás gestionar tus citas y enviarselas"></writter>
                  <writter class="subtitle-dashboard" value="Disfruta, te lo mereces"></writter> -->
              </div>
            </div>
          </div>
        </div>
        <div class="second">
          <div padding class="content-align">
            <writter class="title-dashboard-sec" value="Esta es tu agenda de hoy"></writter>
            <p>Tienes 15 pacientes. Para acceder a cada detalle de la cita, puedes pinchar directamente en la tarjeta del paciente</p>
            <ion-slides pager="false" dir="{{dir}}" (ionSlideWillChange)="onSlideChangeStart($event)">
              <ion-slide class="slides-container" *ngFor="let slide of slides; let i = index">
                <div class="slides-content">
                  <ion-card class="all-pacients" (click)="checkClient(i)">
                    <ion-card-header class="header-slide-text" [innerHTML]="slide.header"></ion-card-header>
                    <ion-card-content>
                      <div class=first-card-pacient-content>
                        <p [innerHTML]="slide.age"></p>
                      </div>
                      <div class=first-card-pacient-content>
                        <p [innerHTML]="slide.email"></p>
                      </div>
                      <!-- <canvas #pieCanvas class="canvas-graph"></canvas> -->
                    </ion-card-content>
                  </ion-card>
                  <!-- <div padding>
                    <p class="text-slide">Para ver las dietas que le has puesto a tus pacientes, puedes pinchar en cada una de las fichas de pacientes. Para ver la última, también puedes hacer click en el icono para descargarla</p>
                    <img class="img-pdf-slide" src="../../assets/icon/pdf.png">
                    <p class="text-slide" [innerHTML]="slide.observations"></p>
                  </div> -->

                </div>
                <div>
                </div>
              </ion-slide>
            </ion-slides>
          </div>
        </div>
        <div class="second">
          <div padding class="content-align">
            <writter class="title-dashboard-sec" value="Buscador de pacientes"></writter>
            <p>Jesús, puedes buscar a todos tus pacientes. Pinchando en cada resultado podrás acceder a la ficha de dicho paciente</p> 
          </div>
          <ion-searchbar (ionInput)="getItems($event)" placeholder="Nombre o email del paciente"></ion-searchbar>
          <ion-list>
            <button ion-item (click)="openItem(item)" *ngFor="let item of currentItems">
              <ion-avatar item-start>
                <img [src]="item.profilePic" />
              </ion-avatar>
              <h2>{{item.name}}</h2>
              <p>{{item.about}}</p>
              <ion-note item-end *ngIf="item.note">{{item.note}}</ion-note>
            </button>
          </ion-list>
        </div>
        <!-- <div class="info-content" padding>
          <div class="bar-content" padding>
            <ion-card>
              <ion-card-header>Evolución de clientes</ion-card-header>
              <ion-card-content>
                <p>Este gráfico indica la cantidad de pacientes que se han registrado en Vitalitty</p>
                <canvas #barCanvas class="canvas-graph-bar"></canvas>
              </ion-card-content>
            </ion-card>
          </div>
        </div> -->
      </div>
    </div>

  </ng-container>

  <ng-container *ngIf="isAdmin && isAdmin === 2">
    <div class="content-dashboard">
      <div class="right-content">
        <div class="overview">
          <div padding>
            <div class="content-initial">
              <div class="first-content">
                  <writter class="title-dashboard" value="Bienvenida Natalia, ¿Qué tal estás?"></writter>
                  <!-- <writter class="subtitle-dashboard" value="Aquí vas a poder ver la evolución de tus pacientes"></writter> -->
                  <!-- <p>La siguiente cita la tendrás {{newDate}}</p> -->
                  <p>Tú próxima revisión es: 1/12/2021 a las 16:40</p>
                  <!-- <writter class="subtitle-dashboard" value="Podrás gestionar tus citas y enviarselas"></writter>
                  <writter class="subtitle-dashboard" value="Disfruta, te lo mereces"></writter> -->
              </div>
            </div>
          </div>
        </div>
      
        <div class="info-content" padding>
          <div class="second">
            <div padding class="content-align">
              <writter class="title-dashboard-sec" value="Tus últimos datos"></writter>
              <p>Este gráfico explica, según los datos tomados en la consulta, tu nivel metabólico. Cuanta más continuidad exista, mejores serán los datos y los gráficos tendrán más exactiud</p>
            </div>
          </div>
          <div class="info-container">
            <div class="bar-content" padding>
              <ion-card>
                <ion-card-header class="title-card">Evolución</ion-card-header>
                <ion-card-content>
                  <p>El gráfico hace referencia a toda la evolución desde que llevas con Vitalitty. </p>
                  <canvas #barCanvas class="canvas-graph-bar"></canvas>
                </ion-card-content>
              </ion-card>
            </div>
            <div class="chart-content" padding>
              <ion-card>
                <ion-card-header class="title-card">Datos importantes</ion-card-header>
                <ion-card-content>
                  <p>Estos son tus datos actuales más relevantes para que conozcas un poco más sobre tí</p>
                  <canvas #pieCanvas class="canvas-graph"></canvas>
                </ion-card-content>
              </ion-card>
            </div>
            <div class="chart-content" padding>
              <ion-card>
                <ion-card-header class="title-card">Tus últimas dietas</ion-card-header>
                <ion-card-content>
                  <div class="second">
                    <p>En este apartado puedes ver tu última dieta</p>
                    <div class="last-diet" padding>
                      <img class="pdf-img" src="../../assets/icon/pdf.png">
                      <p>Puedes revisar la última dieta, pinchando en el icono<br>Puedes revisar todas las dietas pinchando en el siguiente botón</p>
                    </div>
                    <div class="all-diets">
                      <button ion-button>Ver todas las dietas</button>
                    </div>
                  </div>
                </ion-card-content>
              </ion-card>
            </div>
          </div>
        </div>
  
      </div>
    </div>
  </ng-container>

  <vitalitty-footer></vitalitty-footer>
</ion-content>
